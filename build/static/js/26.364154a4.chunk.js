(this.webpackJsonpbodhi=this.webpackJsonpbodhi||[]).push([[26],{634:function(e,t,s){"use strict";s.r(t);var i=s(138),n=s(224),r=s(638),a=s(475),c=s(476),l=s(610),j=s(393),o=s(101),d=s(392),b=s(0),u=s(397),m=s(394),p=s(624),O=s(396),h=s(521),x=s(29),g=s(172),f=s(5),y=Object(x.b)((function(e){return{isError:e.meeting.isError,errMessage:e.meeting.errMessage,isErrorType:e.meeting.isErrorType,singleData:e.meeting.singleData}}),{addMeeting:g.a})((function(e){var t=e.visible,s=e.cancel,n=e.errMessage,r=e.isError,d=e.isErrorType,u=e.addMeeting,m=p.a.useForm(),x=Object(i.a)(m,1)[0];return Object(b.useEffect)((function(){r&&"SUCCESS"===d&&setTimeout((function(){s(!1),x.resetFields()}),1e3)}),[r,d,n,x,s]),Object(f.jsx)(O.a,{title:"Create Meeting",visible:t,centered:!0,footer:null,width:700,destroyOnClose:!0,onCancel:function(e){return s(!1)},children:Object(f.jsxs)(p.a,{form:x,layout:"vertical",name:"new-company",preserve:!1,onFinish:function(e){u(e)},children:[Object(f.jsxs)(a.a,{gutter:16,children:[Object(f.jsx)(c.a,{span:12,children:Object(f.jsx)(p.a.Item,{name:"i_date",style:{width:"100%"},label:Object(f.jsx)("span",{children:"Date"}),rules:[{required:!0,message:"Please input Date"}],children:Object(f.jsx)(j.a,{style:{width:"100%"},format:"DD-MM-YYYY"})})}),Object(f.jsx)(c.a,{span:12,children:Object(f.jsx)(p.a.Item,{name:"i_time",style:{width:"100%"},label:Object(f.jsx)("span",{children:"Time"}),rules:[{required:!0,message:"Please input Source"}],children:Object(f.jsx)(h.a,{style:{width:"100%"},format:"HH:mm"})})}),Object(f.jsx)(c.a,{span:24,children:Object(f.jsx)(p.a.Item,{name:"title",style:{width:"100%"},label:Object(f.jsx)("span",{children:"Title"}),rules:[{required:!0,message:"Please input Title"}],children:Object(f.jsx)(l.a,{placeholder:"Title"})})}),Object(f.jsx)(c.a,{span:24,children:Object(f.jsx)(p.a.Item,{name:"meeting_point",style:{width:"100%"},label:Object(f.jsx)("span",{children:"Meeting Point"}),rules:[{required:!0,message:"Please input Meeting Point"}],children:Object(f.jsx)(l.a,{placeholder:"Meeting Point"})})}),Object(f.jsx)(c.a,{span:24,children:Object(f.jsx)(p.a.Item,{name:"description",label:Object(f.jsx)("span",{children:"Descripiton"}),rules:[{required:!0,message:"Please input Descripiton"}],children:Object(f.jsx)(l.a.TextArea,{type:"text",placeholder:"Descripiton"})})})]}),Object(f.jsx)(p.a.Item,{className:"text-right mb-0",children:Object(f.jsx)(o.a,{type:"primary",htmlType:"submit",children:"Save"})})]})})})),M=s(380),D=s.n(M),E=Object(x.b)((function(e){return{isError:e.meeting.isError,errMessage:e.meeting.errMessage,isErrorType:e.meeting.isErrorType,singleData:e.meeting.singleData}}),{editMeeting:g.c})((function(e){var t=e.visible,s=e.cancel,n=e.errMessage,r=e.isError,d=e.isErrorType,u=e.editMeeting,m=e.singleData,x=p.a.useForm(),g=Object(i.a)(x,1)[0];return Object(b.useEffect)((function(){Object.keys(m).length>0&&t&&g.setFieldsValue({i_date:null!==m.i_date?D()(new Date(m.i_date.substring(0,10))):"",i_time:null!==m.i_time?D()(m.i_time):"",description:null!==m.description?m.description:"",title:null!==m.title?m.title:"",meeting_point:null!==m.meeting_point?m.meeting_point:""})}),[m,g,t]),Object(b.useEffect)((function(){r&&"SUCCESS"===d&&setTimeout((function(){s(!1),g.resetFields()}),1e3)}),[r,d,n,g,s]),Object(f.jsx)(O.a,{title:"Edit Meeting",visible:t,centered:!0,footer:null,width:700,destroyOnClose:!0,onCancel:function(e){return s(!1)},children:Object(f.jsxs)(p.a,{form:g,layout:"vertical",name:"new-company",preserve:!1,onFinish:function(e){e.id=m.id,u(e)},children:[Object(f.jsxs)(a.a,{gutter:16,children:[Object(f.jsx)(c.a,{span:12,children:Object(f.jsx)(p.a.Item,{name:"i_date",style:{width:"100%"},label:Object(f.jsx)("span",{children:"Date"}),rules:[{required:!0,message:"Please input Date"}],children:Object(f.jsx)(j.a,{style:{width:"100%"},format:"DD-MM-YYYY"})})}),Object(f.jsx)(c.a,{span:12,children:Object(f.jsx)(p.a.Item,{name:"i_time",style:{width:"100%"},label:Object(f.jsx)("span",{children:"Time"}),rules:[{required:!0,message:"Please input Source"}],children:Object(f.jsx)(h.a,{style:{width:"100%"},format:"HH:mm"})})}),Object(f.jsx)(c.a,{span:24,children:Object(f.jsx)(p.a.Item,{name:"title",style:{width:"100%"},label:Object(f.jsx)("span",{children:"Title"}),rules:[{required:!0,message:"Please input Title"}],children:Object(f.jsx)(l.a,{placeholder:"Title"})})}),Object(f.jsx)(c.a,{span:24,children:Object(f.jsx)(p.a.Item,{name:"meeting_point",style:{width:"100%"},label:Object(f.jsx)("span",{children:"Meeting Point"}),rules:[{required:!0,message:"Please input Meeting Point"}],children:Object(f.jsx)(l.a,{placeholder:"Meeting Point"})})}),Object(f.jsx)(c.a,{span:24,children:Object(f.jsx)(p.a.Item,{name:"description",label:Object(f.jsx)("span",{children:"Descripiton"}),rules:[{required:!0,message:"Please input Descripiton"}],children:Object(f.jsx)(l.a.TextArea,{type:"text",placeholder:"Descripiton"})})})]}),Object(f.jsx)(p.a.Item,{className:"text-right mb-0",children:Object(f.jsx)(o.a,{type:"primary",htmlType:"submit",children:"Save"})})]})})})),w=s(162),C=s(165),T=Object(x.b)((function(e){return{isError:e.task.isError,errMessage:e.task.errMessage,isErrorType:e.task.isErrorType,user:e.user.data,singleData:e.task.singleData}}),{})((function(e){var t=e.visible,s=e.cancel,n=e.singleData,r=Object(b.useState)([{text:"",status:!1}]),a=Object(i.a)(r,2),c=a[0],l=a[1];return Object(b.useEffect)((function(){Object.keys(n).length>0&&t&&l(JSON.parse(n.tasklist))}),[n,t]),Object(f.jsx)(O.a,{title:"View Task",visible:t,centered:!0,footer:null,width:700,bodyStyle:{padding:"10px"},destroyOnClose:!0,onCancel:function(e){return s(!1)},children:c.length>0&&Object(f.jsx)("ul",{style:{listStyle:"none",paddingLeft:0},children:c.map((function(e,t){return Object(f.jsxs)("li",{className:"p-2 border",children:[e.status?Object(f.jsx)(w.a,{className:"text-success mr-2",title:"Completed"}):Object(f.jsx)(C.a,{className:"text-warning mr-2",title:"Not Completed"}),e.text,e.hasOwnProperty("reason")&&""!==e.reason&&Object(f.jsxs)("p",{className:"border-top mb-0 mt-2 pt-1",children:[Object(f.jsx)("strong",{children:"Reason:"})," ",e.hasOwnProperty("reason")?""===e.reason?"-":e.reason:""," "]})]},t)}))})})})),v=s(63),S=s(1),Y=s(167);t.default=Object(x.b)((function(e){return{data:e.meeting.data,loading:e.meeting.loading,isError:e.meeting.isError,errMessage:e.meeting.errMessage,isErrorType:e.meeting.isErrorType,isAuthenticated:e.auth.isAuthenticated}}),{listMeeting:g.d,listUser:Y.d,deleteMeeting:g.b})((function(e){var t=e.data,s=(e.loading,e.errMessage),p=e.isError,O=e.isErrorType,h=(e.isAuthenticated,e.listMeeting,e.listUser,e.deleteMeeting),x=Object(b.useState)(!1),g=Object(i.a)(x,2),M=g[0],w=g[1],C=Object(b.useState)(!1),Y=Object(i.a)(C,2),N=Y[0],P=Y[1],_=Object(b.useState)(!1),I=Object(i.a)(_,2),k=I[0],q=I[1],A=Object(b.useState)([]),F=Object(i.a)(A,2),L=F[0],U=F[1],H=Object(b.useState)(""),J=Object(i.a)(H,2),V=J[0],R=J[1],z=Object(b.useState)(D()(new Date)),B=Object(i.a)(z,2),G=B[0],K=B[1];return Object(b.useEffect)((function(){p&&"SUCCESS"===O?n.b.success(s):p&&"FAIL"===O&&n.b.error(s)}),[p,O,s]),Object(b.useEffect)((function(){if(null!==t){var e=t;""!==V&&null!==V&&(e=t.filter((function(e){return null!==e.title&&e.title.toLowerCase().indexOf(V.toLowerCase())>-1||null!==e.description&&e.description.toLowerCase().indexOf(V.toLowerCase())>-1}))),null!==G&&(e=e.filter((function(e){return D()(e.i_date.substring(0,10)).format("DD-MM-YYYY")===G.format("DD-MM-YYYY")}))),U(e)}}),[t,V,G]),Object(f.jsxs)("div",{children:[Object(f.jsx)(r.a,{children:Object(f.jsxs)(a.a,{children:[Object(f.jsx)(c.a,{sm:8,md:6,lg:5,className:"text-left mb-3",children:Object(f.jsx)(l.a,{placeholder:"Search",value:V,onChange:function(e){return R(e.target.value)}})}),Object(f.jsx)(c.a,{sm:8,md:6,lg:5,className:"text-left mb-3 pl-2",children:Object(f.jsx)(j.a,{style:{width:"100%"},format:"DD-MM-YYYY",value:G,onChange:function(e){return K(e)}})}),Object(f.jsx)(c.a,{sm:8,md:12,lg:14,className:"text-right mb-3",children:Object(f.jsx)(o.a,{type:"primary ",icon:Object(f.jsx)(u.a,{}),onClick:function(e){return w(!0)},children:"Create Meeting"})}),Object(f.jsx)(c.a,{sm:24,md:24,lg:24,children:Object(f.jsx)(a.a,{children:L.map((function(e,t){return Object(f.jsx)(c.a,{sm:8,className:"p-1",children:Object(f.jsxs)(r.a,{bodyStyle:{padding:"15px",cursor:"pointer"},onClick:function(t){t.preventDefault(),v.a.dispatch({type:S.ab,payload:e}),P(!0)},children:[Object(f.jsxs)("p",{className:"mb-1 pb-0",children:[Object(f.jsx)("span",{className:"",children:D()(e.i_date.substring(0,10)).format("DD-MMM-YYYY")}),Object(f.jsx)("span",{className:"float-right",children:D()(e.i_time).format("hh:mm A")})]}),Object(f.jsx)("h5",{className:"mb-1",children:e.title}),Object(f.jsx)("p",{className:"mb-1",children:e.meeting_point}),Object(f.jsx)("p",{className:"mb-1",children:e.description}),Object(f.jsxs)("p",{className:"mb-0",children:["Created by: ",e.user.first_name," ",e.user.last_name,e.user.id===parseInt(sessionStorage.getItem("id"))&&Object(f.jsx)(d.a,{title:"Are you sure?",onConfirm:function(t){t.stopPropagation(),h({id:e.id})},onCancel:function(e){e.stopPropagation()},okText:"Yes",cancelText:"No",children:Object(f.jsx)(m.a,{className:"text-danger float-right",onClick:function(e){e.stopPropagation(),e.preventDefault()}})})]})]})},t)}))})})]})}),Object(f.jsx)(y,{visible:M,cancel:w}),Object(f.jsx)(E,{visible:N,cancel:P}),Object(f.jsx)(T,{visible:k,cancel:q})]})}))}}]);
//# sourceMappingURL=26.364154a4.chunk.js.map