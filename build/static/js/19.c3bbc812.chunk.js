(this.webpackJsonpkcra=this.webpackJsonpkcra||[]).push([[19],{394:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"e",(function(){return u})),r.d(t,"b",(function(){return d})),r.d(t,"d",(function(){return y})),r.d(t,"c",(function(){return m}));var a,n=r(51),o=r.n(n),s=r(69),i=r(70),c=r.n(i),p=r(10),l=function(e,t,r){return function(){var n=Object(s.a)(o.a.mark((function n(s){var i,l;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={"Content-Type":"application/json"},l=e,n.next=4,c()({method:"POST",url:p.a+"property/add-property",data:l,headers:i}).then((function(e){200===e.data.statuscode?(t.length>0&&s(f(t,"image",e.data.data)),r.length>0&&s(f(r,"video",e.data.data)),s({type:p.v,payload:{isError:!0,isErrorType:"SUCCESS",errMessage:e.data.message}}),clearTimeout(a),a=setTimeout((function(){s({type:p.v,payload:{isError:!1,isErrorType:null,errMessage:null}})}),1e3)):(s({type:p.v,payload:{isError:!0,isErrorType:"FAIL",errMessage:e.data.message}}),clearTimeout(a),a=setTimeout((function(){s({type:p.v,payload:{isError:!1,isErrorType:null,errMessage:null}})}),1e3))})).catch((function(e){s({type:p.v,payload:{isError:!0,isErrorType:"FAIL",errMessage:"Something went wrong! Please try again later"}}),clearTimeout(a),a=setTimeout((function(){s({type:p.v,payload:{isError:!1,isErrorType:null,errMessage:null}})}),1e3)}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},u=function(){return function(){var e=Object(s.a)(o.a.mark((function e(t){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:p.m,payload:!0}),r={"Content-Type":"application/json"},a={},e.next=5,c()({method:"POST",url:p.a+"property/list-property",data:a,headers:r}).then((function(e){200===e.data.statuscode?(t({type:p.m,payload:!1}),t({type:p.f,payload:e.data.data})):(t({type:p.m,payload:!1}),t({type:p.f,payload:[]}))})).catch((function(e){t({type:p.m,payload:!1}),t({type:p.f,payload:[]})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(s.a)(o.a.mark((function t(r){var n,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={"Content-Type":"application/json"},s=e,t.next=4,c()({method:"POST",url:p.a+"property/delete-property",data:s,headers:n}).then((function(e){200===e.data.statuscode?(r(u()),r({type:p.v,payload:{isError:!0,isErrorType:"SUCCESS",errMessage:e.data.message}}),clearTimeout(a),a=setTimeout((function(){r({type:p.v,payload:{isError:!1,isErrorType:null,errMessage:null}})}),1e3)):(r({type:p.v,payload:{isError:!0,isErrorType:"FAIL",errMessage:e.data.message}}),clearTimeout(a),a=setTimeout((function(){r({type:p.v,payload:{isError:!1,isErrorType:null,errMessage:null}})}),1e3))})).catch((function(e){r({type:p.v,payload:{isError:!0,isErrorType:"FAIL",errMessage:"Something went wrong! Please try again later"}}),clearTimeout(a),a=setTimeout((function(){r({type:p.v,payload:{isError:!1,isErrorType:null,errMessage:null}})}),1e3)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(e,t,r){return function(){var n=Object(s.a)(o.a.mark((function n(s){var i,l;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={"Content-Type":"application/json"},l=e,n.next=4,c()({method:"POST",url:p.a+"property/edit-property",data:l,headers:i}).then((function(n){200===n.data.statuscode?(s(j(e.id)),t.length>0&&s(f(t,"image",n.data.data)),r.length>0&&s(f(r,"video",n.data.data)),s({type:p.v,payload:{isError:!0,isErrorType:"SUCCESS",errMessage:n.data.message}}),clearTimeout(a),a=setTimeout((function(){s({type:p.v,payload:{isError:!1,isErrorType:null,errMessage:null}})}),1e3)):(s({type:p.v,payload:{isError:!0,isErrorType:"FAIL",errMessage:n.data.message}}),clearTimeout(a),a=setTimeout((function(){s({type:p.v,payload:{isError:!1,isErrorType:null,errMessage:null}})}),1e3))})).catch((function(e){s({type:p.v,payload:{isError:!0,isErrorType:"FAIL",errMessage:"Something went wrong! Please try again later"}}),clearTimeout(a),a=setTimeout((function(){s({type:p.v,payload:{isError:!1,isErrorType:null,errMessage:null}})}),1e3)}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},f=function(e,t,r){return function(){var a=Object(s.a)(o.a.mark((function a(n){var s,i;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return(s=new FormData).append("mediaType",t),s.append("property_id",r),e.forEach((function(e){s.append("files",e)})),i={"Content-Type":"application/json"},a.next=7,c()({method:"POST",url:p.a+"property/add-property-files",data:s,headers:i}).then((function(e){200===e.data.statuscode&&n(j(r))})).catch((function(e){}));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(s.a)(o.a.mark((function t(r){var n,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={"Content-Type":"application/json"},s=e,t.next=4,c()({method:"POST",url:p.a+"property/delete-file",data:s,headers:n}).then((function(t){200===t.data.statuscode?(r(j(e.property)),r({type:p.v,payload:{isError:!0,isErrorType:"SUCCESS",errMessage:t.data.message}}),clearTimeout(a),a=setTimeout((function(){r({type:p.v,payload:{isError:!1,isErrorType:null,errMessage:null}})}),1e3)):(r({type:p.v,payload:{isError:!0,isErrorType:"FAIL",errMessage:t.data.message}}),clearTimeout(a),a=setTimeout((function(){r({type:p.v,payload:{isError:!1,isErrorType:null,errMessage:null}})}),1e3))})).catch((function(e){r({type:p.v,payload:{isError:!0,isErrorType:"FAIL",errMessage:"Something went wrong! Please try again later"}}),clearTimeout(a),a=setTimeout((function(){r({type:p.v,payload:{isError:!1,isErrorType:null,errMessage:null}})}),1e3)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(s.a)(o.a.mark((function t(r){var a,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:p.m,payload:!0}),a={"Content-Type":"application/json"},n={id:e},t.next=5,c()({method:"POST",url:p.a+"property/property-by-id",data:n,headers:a}).then((function(e){200===e.data.statuscode?r({type:p.C,payload:e.data.data}):r({type:p.C,payload:{}})})).catch((function(e){r({type:p.C,payload:{}})}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},601:function(e,t,r){"use strict";r.r(t);var a=r(155),n=r(5),o=r(137),s=r(0),i=r(618),c=r(214),p=r(455),l=r(456),u=r(595),d=r(612),y=r(101),f=r(348),m=r(396),j=r(454),h=r(407),b=r(360),g=r(452),O=r(28),x=r(29),v=r(26),E=r(394),T=r(10),w=r(138),C=r(3),_=i.a.Meta;t.default=Object(v.b)((function(e){return{data:e.property.data,loading:e.property.loading,isError:e.property.isError,errMessage:e.property.errMessage,isErrorType:e.property.isErrorType,isAuthenticated:e.auth.isAuthenticated}}),{listProperty:E.e,deleteProperty:E.b})((function(e){var t=e.data,r=e.loading,v=e.listProperty,E=e.errMessage,S=e.isError,M=e.isErrorType,L=e.deleteProperty,P=e.isAuthenticated,A=Object(s.useState)([]),k=Object(o.a)(A,2),F=k[0],I=k[1];Object(s.useEffect)((function(){I(t.map((function(e){return Object(n.a)(Object(n.a)({},e),{},{expected_price:null!==e.expected_price?e.expected_price:0})})))}),[t]);var N=Object(s.useState)([]),D=Object(o.a)(N,2),U=D[0],z=D[1],J=Object(s.useState)(""),R=Object(o.a)(J,2),Y=R[0],q=R[1],B=Object(s.useState)([]),G=Object(o.a)(B,2),H=G[0],K=G[1];Object(s.useEffect)((function(){K(F.filter((function(e){return e.isActive})).map((function(e){return Object(n.a)(Object(n.a)({},e),{},{propert_id:"PROPERTY"+e.id,expected_price:null!==e.expected_price?parseInt(e.expected_price):0})}))),te(Math.max.apply(Math,Object(a.a)(F.map((function(e){return null!==e.expected_price?parseInt(e.expected_price):0}))))/1e5)}),[F]);var Q=Object(s.useState)([0,0]),V=Object(o.a)(Q,2),W=V[0],X=V[1];Object(s.useEffect)((function(){var e=[];e=0===W[1]?H:H.filter((function(e){return parseInt(e.expected_price)>=1e5*W[0]&&parseInt(e.expected_price)<=1e5*W[1]})),""!==Y&&null!==Y&&null!==H&&(e=H.filter((function(e){return null!==e.property_type&&e.property_type.toLowerCase().indexOf(Y.toLowerCase())>-1||null!==e.property_location&&e.property_location.toLowerCase().indexOf(Y.toLowerCase())>-1||null!==e.propert_id&&e.propert_id.toLowerCase().indexOf(Y.toLowerCase())>-1||null!==e.property_locality&&e.property_locality.toLowerCase().indexOf(Y.toLowerCase())>-1||null!==e.property_area&&e.property_area.toLowerCase().indexOf(Y.toLowerCase())>-1}))),z(e)}),[H,Y,W]),Object(s.useEffect)((function(){P&&v()}),[v,P]),Object(s.useEffect)((function(){S&&"SUCCESS"===M?c.b.success(E):S&&"FAIL"===M&&c.b.error(E)}),[S,M,E]);var Z=Object(s.useState)(null),$=Object(o.a)(Z,2),ee=$[0],te=$[1];Object(s.useEffect)((function(){X(null!==ee?[0,ee]:[0,0])}),[ee]);var re=Object(O.g)();return Object(C.jsx)("div",{children:Object(C.jsxs)(p.a,{children:[Object(C.jsx)(l.a,{sm:24,className:"border-bottom mb-3",children:Object(C.jsxs)(p.a,{children:[Object(C.jsx)(l.a,{sm:8,md:6,lg:5,className:"text-left mb-3",children:Object(C.jsx)(u.a,{placeholder:"Search",value:Y,onChange:function(e){q(e.target.value)}})}),H.length>0&&null!==ee?Object(C.jsxs)(l.a,{sm:8,md:6,lg:5,className:"text-left mb-3 pl-3",children:[Object(C.jsxs)("span",{children:["Price: ",W[0]," to ",W[1],"L"," "]}),Object(C.jsx)(d.a,{range:!0,min:0,max:ee,value:W,onChange:function(e){X(e)}})]}):Object(C.jsx)(l.a,{sm:8,md:6,lg:5,className:"text-left mb-3 pl-3"}),Object(C.jsx)(l.a,{sm:8,md:12,lg:14,className:"text-right mb-3",children:Object(C.jsx)(y.a,{type:"primary ",icon:Object(C.jsx)(j.a,{}),onClick:function(e){re.push("/app/add-property")},children:"Add Property"})})]})}),r?Object(C.jsx)("div",{className:"spin-loader",children:Object(C.jsx)(f.a,{tip:"Loading...",size:"large"})}):U.map((function(e,t){return Object(C.jsx)(l.a,{sm:24,md:12,lg:8,className:"pr-3",children:Object(C.jsx)(i.a,{style:{width:"100%"},cover:Object(C.jsx)("img",{alt:"example",src:null===e.property_media?"/img/noimage.jpg":e.property_media.filter((function(e){return"image"===e.media_type})).length>0?T.b+e.property_media.filter((function(e){return"image"===e.media_type}))[0].media_link:"/img/noimage.jpg",style:{width:"100%",height:"190px",objectFit:"cover"}}),actions:[Object(C.jsx)(m.a,{title:"Are you sure?",onConfirm:function(t){L({id:e.id,isActive:!e.isActive})},children:Object(C.jsx)(x.b,{onClick:function(e){e.preventDefault()},to:"#!",children:Object(C.jsx)(h.a,{className:"text-danger"},"Delete")})}),Object(C.jsx)(x.b,{onClick:function(t){t.preventDefault(),w.a.dispatch({type:T.C,payload:e}),re.push("/app/edit-property")},to:"#!",children:Object(C.jsx)(b.a,{className:"text-success"},"edit")}),Object(C.jsx)(x.b,{onClick:function(t){t.preventDefault(),w.a.dispatch({type:T.C,payload:e}),re.push("/app/view-property")},to:"#!",children:Object(C.jsx)(g.a,{className:"text-primary"},"Download")})],children:Object(C.jsx)(_,{title:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("span",{children:"#"+e.propert_id}),Object(C.jsx)("small",{className:"float-right",children:e.createdAt.substr(0,10).split("-").reverse().join("-")})]}),description:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("p",{className:"float-left mb-0 pb-0 w-100 text-capitalize",children:e.property_location}),Object(C.jsx)("div",{style:{width:"60%",float:"left"},children:null!==e.user?e.user.first_name+" "+e.user.last_name:""}),Object(C.jsxs)("div",{className:"text-right",style:{width:"40%",float:"left"},children:["Price:"," ",null!==e.expected_price?e.expected_price:""]})]})})})},t)}))]})})}))}}]);
//# sourceMappingURL=19.c3bbc812.chunk.js.map