{"version":3,"sources":["apis/dashboard/Property.js","views/app-views/PropertyManagement/index.js"],"names":["propertyAlert","addProperty","data","formdata","videoData","dispatch","a","config","body","axios","method","url","BACKEND_URL","headers","then","response","statuscode","length","addMedia","type","SET_ALERT_PROPERTY","payload","isError","isErrorType","errMessage","message","clearTimeout","setTimeout","catch","error","listProperty","LOADING_LIST_PROPERTY","LIST_PROPERTY_DATA","deleteProperty","editProperty","listPropertybyId","id","isMedia","property_id","FormData","append","forEach","ele","deletePropertyFile","property","SET_SIGNLE_PROPERTY","downloadData","link","document","createElement","download","name","href","BACKEND_URL_PDF","target","appendChild","click","removeChild","Meta","Card","connect","state","loading","isAuthenticated","auth","useState","dataz","setdataz","useEffect","map","expected_price","mainData","setmainData","search","setsearch","dataSet","setdataSet","filter","isActive","index","propert_id","parseInt","setmaxPrice","Math","max","slider","setslider","result","item","property_type","toLowerCase","indexOf","property_location","property_locality","property_area","success","maxPrice","history","useHistory","sm","className","md","lg","placeholder","value","onChange","e","range","min","icon","onClick","push","tip","size","style","width","cover","alt","src","property_media","media_type","BACKEND_URL_MEDIA","media_link","height","objectFit","actions","title","onConfirm","preventDefault","to","store","createdAt","substr","split","reverse","join","description","float","user","first_name","last_name"],"mappings":"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","file":"static/js/24.438fbfda.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport {\r\n  BACKEND_URL,\r\n  BACKEND_URL_PDF,\r\n  LIST_PROPERTY_DATA,\r\n  LOADING_LIST_PROPERTY,\r\n  SET_ALERT_PROPERTY,\r\n  SET_SIGNLE_PROPERTY,\r\n} from '../../actions/types';\r\n\r\nlet propertyAlert;\r\nexport const addProperty = (data, formdata, videoData) => async (dispatch) => {\r\n  const config = {\r\n    'Content-Type': 'application/json',\r\n  };\r\n  const body = data;\r\n  await axios({\r\n    method: 'POST',\r\n    url: BACKEND_URL + 'property/add-property',\r\n    data: body,\r\n    headers: config,\r\n  })\r\n    .then((response) => {\r\n      if (response.data.statuscode === 200) {\r\n        if (formdata.length > 0) {\r\n          dispatch(addMedia(formdata, 'image', response.data.data));\r\n        }\r\n        if (videoData.length > 0) {\r\n          dispatch(addMedia(videoData, 'video', response.data.data));\r\n        }\r\n        dispatch({\r\n          type: SET_ALERT_PROPERTY,\r\n          payload: {\r\n            isError: true,\r\n            isErrorType: 'SUCCESS',\r\n            errMessage: response.data.message,\r\n          },\r\n        });\r\n        clearTimeout(propertyAlert);\r\n        propertyAlert = setTimeout(() => {\r\n          dispatch({\r\n            type: SET_ALERT_PROPERTY,\r\n            payload: {\r\n              isError: false,\r\n              isErrorType: null,\r\n              errMessage: null,\r\n            },\r\n          });\r\n        }, 1000);\r\n      } else {\r\n        dispatch({\r\n          type: SET_ALERT_PROPERTY,\r\n          payload: {\r\n            isError: true,\r\n            isErrorType: 'FAIL',\r\n            errMessage: response.data.message,\r\n          },\r\n        });\r\n        clearTimeout(propertyAlert);\r\n        propertyAlert = setTimeout(() => {\r\n          dispatch({\r\n            type: SET_ALERT_PROPERTY,\r\n            payload: {\r\n              isError: false,\r\n              isErrorType: null,\r\n              errMessage: null,\r\n            },\r\n          });\r\n        }, 1000);\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      dispatch({\r\n        type: SET_ALERT_PROPERTY,\r\n        payload: {\r\n          isError: true,\r\n          isErrorType: 'FAIL',\r\n          errMessage: 'Something went wrong! Please try again later',\r\n        },\r\n      });\r\n      clearTimeout(propertyAlert);\r\n      propertyAlert = setTimeout(() => {\r\n        dispatch({\r\n          type: SET_ALERT_PROPERTY,\r\n          payload: {\r\n            isError: false,\r\n            isErrorType: null,\r\n            errMessage: null,\r\n          },\r\n        });\r\n      }, 1000);\r\n    });\r\n};\r\n\r\nexport const listProperty = () => async (dispatch) => {\r\n  dispatch({ type: LOADING_LIST_PROPERTY, payload: true });\r\n  const config = {\r\n    'Content-Type': 'application/json',\r\n  };\r\n  const body = {};\r\n  await axios({\r\n    method: 'POST',\r\n    url: BACKEND_URL + 'property/list-property',\r\n    data: body,\r\n    headers: config,\r\n  })\r\n    .then((response) => {\r\n      if (response.data.statuscode === 200) {\r\n        dispatch({ type: LOADING_LIST_PROPERTY, payload: false });\r\n        dispatch({ type: LIST_PROPERTY_DATA, payload: response.data.data });\r\n      } else {\r\n        dispatch({ type: LOADING_LIST_PROPERTY, payload: false });\r\n        dispatch({ type: LIST_PROPERTY_DATA, payload: [] });\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      dispatch({ type: LOADING_LIST_PROPERTY, payload: false });\r\n      dispatch({ type: LIST_PROPERTY_DATA, payload: [] });\r\n    });\r\n};\r\n\r\nexport const deleteProperty = (data) => async (dispatch) => {\r\n  const config = {\r\n    'Content-Type': 'application/json',\r\n  };\r\n  const body = data;\r\n  await axios({\r\n    method: 'POST',\r\n    url: BACKEND_URL + 'property/delete-property',\r\n    data: body,\r\n    headers: config,\r\n  })\r\n    .then((response) => {\r\n      if (response.data.statuscode === 200) {\r\n        dispatch(listProperty());\r\n        dispatch({\r\n          type: SET_ALERT_PROPERTY,\r\n          payload: {\r\n            isError: true,\r\n            isErrorType: 'SUCCESS',\r\n            errMessage: response.data.message,\r\n          },\r\n        });\r\n        clearTimeout(propertyAlert);\r\n        propertyAlert = setTimeout(() => {\r\n          dispatch({\r\n            type: SET_ALERT_PROPERTY,\r\n            payload: {\r\n              isError: false,\r\n              isErrorType: null,\r\n              errMessage: null,\r\n            },\r\n          });\r\n        }, 1000);\r\n      } else {\r\n        dispatch({\r\n          type: SET_ALERT_PROPERTY,\r\n          payload: {\r\n            isError: true,\r\n            isErrorType: 'FAIL',\r\n            errMessage: response.data.message,\r\n          },\r\n        });\r\n        clearTimeout(propertyAlert);\r\n        propertyAlert = setTimeout(() => {\r\n          dispatch({\r\n            type: SET_ALERT_PROPERTY,\r\n            payload: {\r\n              isError: false,\r\n              isErrorType: null,\r\n              errMessage: null,\r\n            },\r\n          });\r\n        }, 1000);\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      dispatch({\r\n        type: SET_ALERT_PROPERTY,\r\n        payload: {\r\n          isError: true,\r\n          isErrorType: 'FAIL',\r\n          errMessage: 'Something went wrong! Please try again later',\r\n        },\r\n      });\r\n      clearTimeout(propertyAlert);\r\n      propertyAlert = setTimeout(() => {\r\n        dispatch({\r\n          type: SET_ALERT_PROPERTY,\r\n          payload: {\r\n            isError: false,\r\n            isErrorType: null,\r\n            errMessage: null,\r\n          },\r\n        });\r\n      }, 1000);\r\n    });\r\n};\r\n\r\nexport const editProperty = (data, formdata, videoData) => async (dispatch) => {\r\n  const config = {\r\n    'Content-Type': 'application/json',\r\n  };\r\n  const body = data;\r\n  await axios({\r\n    method: 'POST',\r\n    url: BACKEND_URL + 'property/edit-property',\r\n    data: body,\r\n    headers: config,\r\n  })\r\n    .then((response) => {\r\n      if (response.data.statuscode === 200) {\r\n        dispatch(listPropertybyId(data.id));\r\n        if (formdata.length > 0) {\r\n          dispatch(addMedia(formdata, 'image', response.data.data));\r\n        }\r\n        if (videoData.length > 0) {\r\n          dispatch(addMedia(videoData, 'video', response.data.data));\r\n        }\r\n        dispatch({\r\n          type: SET_ALERT_PROPERTY,\r\n          payload: {\r\n            isError: true,\r\n            isErrorType: 'SUCCESS',\r\n            errMessage: response.data.message,\r\n          },\r\n        });\r\n        clearTimeout(propertyAlert);\r\n        propertyAlert = setTimeout(() => {\r\n          dispatch({\r\n            type: SET_ALERT_PROPERTY,\r\n            payload: {\r\n              isError: false,\r\n              isErrorType: null,\r\n              errMessage: null,\r\n            },\r\n          });\r\n        }, 1000);\r\n      } else {\r\n        dispatch({\r\n          type: SET_ALERT_PROPERTY,\r\n          payload: {\r\n            isError: true,\r\n            isErrorType: 'FAIL',\r\n            errMessage: response.data.message,\r\n          },\r\n        });\r\n        clearTimeout(propertyAlert);\r\n        propertyAlert = setTimeout(() => {\r\n          dispatch({\r\n            type: SET_ALERT_PROPERTY,\r\n            payload: {\r\n              isError: false,\r\n              isErrorType: null,\r\n              errMessage: null,\r\n            },\r\n          });\r\n        }, 1000);\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      dispatch({\r\n        type: SET_ALERT_PROPERTY,\r\n        payload: {\r\n          isError: true,\r\n          isErrorType: 'FAIL',\r\n          errMessage: 'Something went wrong! Please try again later',\r\n        },\r\n      });\r\n      clearTimeout(propertyAlert);\r\n      propertyAlert = setTimeout(() => {\r\n        dispatch({\r\n          type: SET_ALERT_PROPERTY,\r\n          payload: {\r\n            isError: false,\r\n            isErrorType: null,\r\n            errMessage: null,\r\n          },\r\n        });\r\n      }, 1000);\r\n    });\r\n};\r\n\r\nexport const addMedia =\r\n  (formdata, isMedia, property_id) => async (dispatch) => {\r\n    var body = new FormData();\r\n    body.append('mediaType', isMedia);\r\n    body.append('property_id', property_id);\r\n    formdata.forEach((ele) => {\r\n      body.append('files', ele);\r\n    });\r\n    const config = {\r\n      'Content-Type': 'application/json',\r\n    };\r\n    await axios({\r\n      method: 'POST',\r\n      url: BACKEND_URL + 'property/add-property-files',\r\n      data: body,\r\n      headers: config,\r\n    })\r\n      .then((response) => {\r\n        if (response.data.statuscode === 200) {\r\n          dispatch(listPropertybyId(property_id));\r\n        } else {\r\n        }\r\n      })\r\n      .catch((error) => {});\r\n  };\r\n\r\nexport const deletePropertyFile = (data) => async (dispatch) => {\r\n  const config = {\r\n    'Content-Type': 'application/json',\r\n  };\r\n  const body = data;\r\n  await axios({\r\n    method: 'POST',\r\n    url: BACKEND_URL + 'property/delete-file',\r\n    data: body,\r\n    headers: config,\r\n  })\r\n    .then((response) => {\r\n      if (response.data.statuscode === 200) {\r\n        dispatch(listPropertybyId(data.property));\r\n        dispatch({\r\n          type: SET_ALERT_PROPERTY,\r\n          payload: {\r\n            isError: true,\r\n            isErrorType: 'SUCCESS',\r\n            errMessage: response.data.message,\r\n          },\r\n        });\r\n        clearTimeout(propertyAlert);\r\n        propertyAlert = setTimeout(() => {\r\n          dispatch({\r\n            type: SET_ALERT_PROPERTY,\r\n            payload: {\r\n              isError: false,\r\n              isErrorType: null,\r\n              errMessage: null,\r\n            },\r\n          });\r\n        }, 1000);\r\n      } else {\r\n        dispatch({\r\n          type: SET_ALERT_PROPERTY,\r\n          payload: {\r\n            isError: true,\r\n            isErrorType: 'FAIL',\r\n            errMessage: response.data.message,\r\n          },\r\n        });\r\n        clearTimeout(propertyAlert);\r\n        propertyAlert = setTimeout(() => {\r\n          dispatch({\r\n            type: SET_ALERT_PROPERTY,\r\n            payload: {\r\n              isError: false,\r\n              isErrorType: null,\r\n              errMessage: null,\r\n            },\r\n          });\r\n        }, 1000);\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      dispatch({\r\n        type: SET_ALERT_PROPERTY,\r\n        payload: {\r\n          isError: true,\r\n          isErrorType: 'FAIL',\r\n          errMessage: 'Something went wrong! Please try again later',\r\n        },\r\n      });\r\n      clearTimeout(propertyAlert);\r\n      propertyAlert = setTimeout(() => {\r\n        dispatch({\r\n          type: SET_ALERT_PROPERTY,\r\n          payload: {\r\n            isError: false,\r\n            isErrorType: null,\r\n            errMessage: null,\r\n          },\r\n        });\r\n      }, 1000);\r\n    });\r\n};\r\n\r\nexport const listPropertybyId = (id) => async (dispatch) => {\r\n  dispatch({ type: LOADING_LIST_PROPERTY, payload: true });\r\n  const config = {\r\n    'Content-Type': 'application/json',\r\n  };\r\n  const body = { id };\r\n  await axios({\r\n    method: 'POST',\r\n    url: BACKEND_URL + 'property/property-by-id',\r\n    data: body,\r\n    headers: config,\r\n  })\r\n    .then((response) => {\r\n      if (response.data.statuscode === 200) {\r\n        dispatch({\r\n          type: SET_SIGNLE_PROPERTY,\r\n          payload: response.data.data,\r\n        });\r\n      } else {\r\n        dispatch({\r\n          type: SET_SIGNLE_PROPERTY,\r\n          payload: {},\r\n        });\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      dispatch({\r\n        type: SET_SIGNLE_PROPERTY,\r\n        payload: {},\r\n      });\r\n    });\r\n};\r\n\r\nexport const downloadData = (id) => async (dispatch) => {\r\n  const config = {\r\n    'Content-Type': 'application/json',\r\n  };\r\n  const body = { id: id };\r\n  await axios({\r\n    method: 'POST',\r\n    url: BACKEND_URL + 'property/download-file',\r\n    data: body,\r\n    headers: config,\r\n  })\r\n    .then((response) => {\r\n      if (response.data.statuscode === 200) {\r\n        var link = document.createElement('a');\r\n        link.download = response.data.name;\r\n        link.href = BACKEND_URL_PDF + response.data.data;\r\n        link.target = '_blank'\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n      } else {\r\n      }\r\n    })\r\n    .catch((error) => {});\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport {\r\n  Button,\r\n  Card,\r\n  Col,\r\n  Input,\r\n  message,\r\n  Popconfirm,\r\n  Row,\r\n  Slider,\r\n  Spin,\r\n} from 'antd';\r\nimport {\r\n  EditOutlined,\r\n  DeleteOutlined,\r\n  EyeOutlined,\r\n  PlusCircleOutlined,\r\n} from '@ant-design/icons';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { deleteProperty, listProperty } from '../../../apis/dashboard/Property';\r\nimport { BACKEND_URL_MEDIA, SET_SIGNLE_PROPERTY } from '../../../actions/types';\r\nimport store from '../../../redux/store';\r\nconst { Meta } = Card;\r\n\r\nconst Index = ({\r\n  data,\r\n  loading,\r\n  listProperty,\r\n  errMessage,\r\n  isError,\r\n  isErrorType,\r\n  deleteProperty,\r\n  isAuthenticated,\r\n}) => {\r\n  const [dataz, setdataz] = useState([]);\r\n  useEffect(() => {\r\n    setdataz(\r\n      data.map((ele) => {\r\n        return {\r\n          ...ele,\r\n          expected_price: ele.expected_price !== null ? ele.expected_price : 0,\r\n        };\r\n      })\r\n    );\r\n  }, [data]);\r\n\r\n  const [mainData, setmainData] = useState([]);\r\n  const [search, setsearch] = useState('');\r\n  const [dataSet, setdataSet] = useState([]);\r\n\r\n  useEffect(() => {\r\n    setdataSet(\r\n      dataz\r\n        .filter((ele) => ele.isActive)\r\n        .map((ele, index) => {\r\n          return {\r\n            ...ele,\r\n            propert_id: 'PROPERTY' + (index + 1),\r\n            expected_price:\r\n              ele.expected_price !== null ? parseInt(ele.expected_price) : 0,\r\n          };\r\n        })\r\n    );\r\n    setmaxPrice(\r\n      Math.max(\r\n        ...dataz.map((ele) =>\r\n          ele.expected_price !== null ? parseInt(ele.expected_price) : 0\r\n        )\r\n      ) / 100000\r\n    );\r\n  }, [dataz]);\r\n  const [slider, setslider] = useState([0, 0]);\r\n\r\n  useEffect(() => {\r\n    var result = [];\r\n    if (slider[1] === 0) {\r\n      result = dataSet;\r\n    } else {\r\n      result = dataSet.filter(\r\n        (ele) =>\r\n          parseInt(ele.expected_price) >= slider[0] * 100000 &&\r\n          parseInt(ele.expected_price) <= slider[1] * 100000\r\n      );\r\n    }\r\n    if (search !== '' && search !== null && dataSet !== null) {\r\n      result = dataSet.filter(\r\n        (item) =>\r\n          (item.property_type !== null\r\n            ? item.property_type.toLowerCase().indexOf(search.toLowerCase()) >\r\n              -1\r\n            : false) ||\r\n          (item.property_location !== null\r\n            ? item.property_location\r\n                .toLowerCase()\r\n                .indexOf(search.toLowerCase()) > -1\r\n            : false) ||\r\n          (item.propert_id !== null\r\n            ? item.propert_id.toLowerCase().indexOf(search.toLowerCase()) > -1\r\n            : false) ||\r\n          (item.property_locality !== null\r\n            ? item.property_locality\r\n                .toLowerCase()\r\n                .indexOf(search.toLowerCase()) > -1\r\n            : false) ||\r\n          (item.property_area !== null\r\n            ? item.property_area.toLowerCase().indexOf(search.toLowerCase()) >\r\n              -1\r\n            : false)\r\n      );\r\n    }\r\n    setmainData(result);\r\n  }, [dataSet, search, slider]);\r\n\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      listProperty();\r\n    }\r\n  }, [listProperty, isAuthenticated]);\r\n\r\n  useEffect(() => {\r\n    if (isError && isErrorType === 'SUCCESS') {\r\n      message.success(errMessage);\r\n    } else if (isError && isErrorType === 'FAIL') {\r\n      message.error(errMessage);\r\n    }\r\n  }, [isError, isErrorType, errMessage]);\r\n\r\n  const [maxPrice, setmaxPrice] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (maxPrice !== null) {\r\n      setslider([0, maxPrice]);\r\n    } else {\r\n      setslider([0, 0]);\r\n    }\r\n  }, [maxPrice]);\r\n\r\n  const history = useHistory();\r\n  return (\r\n    <div>\r\n      <Row>\r\n        <Col sm={24} className='border-bottom mb-3'>\r\n          <Row>\r\n            <Col sm={8} md={6} lg={5} className='text-left mb-3'>\r\n              <Input\r\n                placeholder='Search'\r\n                value={search}\r\n                onChange={(e) => {\r\n                  setsearch(e.target.value);\r\n                }}\r\n              />\r\n            </Col>\r\n            {dataSet.length > 0 && maxPrice !== null ? (\r\n              <Col sm={8} md={6} lg={5} className='text-left mb-3 pl-3'>\r\n                <span>\r\n                  Price: {slider[0]} to {slider[1]}L{' '}\r\n                </span>\r\n                <Slider\r\n                  range\r\n                  min={0}\r\n                  max={maxPrice}\r\n                  value={slider}\r\n                  onChange={(e) => {\r\n                    setslider(e);\r\n                  }}\r\n                />\r\n              </Col>\r\n            ) : (\r\n              <Col sm={8} md={6} lg={5} className='text-left mb-3 pl-3'></Col>\r\n            )}\r\n            <Col sm={8} md={12} lg={14} className='text-right mb-3'>\r\n              <Button\r\n                type='primary '\r\n                icon={<PlusCircleOutlined />}\r\n                onClick={(e) => {\r\n                  history.push('/app/add-property');\r\n                }}\r\n              >\r\n                Add Property\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        </Col>\r\n        {loading ? (\r\n          <div className='spin-loader'>\r\n            <Spin tip='Loading...' size='large' />\r\n          </div>\r\n        ) : (\r\n          mainData.map((ele, index) => (\r\n            <Col sm={24} md={12} lg={8} className='pr-3' key={index}>\r\n              <Card\r\n                style={{\r\n                  width: '100%',\r\n                }}\r\n                cover={\r\n                  <img\r\n                    alt='example'\r\n                    src={\r\n                      ele.property_media === null\r\n                        ? '/img/noimage.jpg'\r\n                        : ele.property_media.filter(\r\n                            (ele) => ele.media_type === 'image'\r\n                          ).length > 0\r\n                        ? BACKEND_URL_MEDIA +\r\n                          ele.property_media.filter(\r\n                            (ele) => ele.media_type === 'image'\r\n                          )[0].media_link\r\n                        : '/img/noimage.jpg'\r\n                    }\r\n                    style={{\r\n                      width: '100%',\r\n                      height: '190px',\r\n                      objectFit: 'cover',\r\n                    }}\r\n                  />\r\n                }\r\n                actions={[\r\n                  <Popconfirm\r\n                    title='Are you sure?'\r\n                    onConfirm={(e) => {\r\n                      deleteProperty({ id: ele.id, isActive: !ele.isActive });\r\n                    }}\r\n                  >\r\n                    <Link\r\n                      onClick={(e) => {\r\n                        e.preventDefault();\r\n                      }}\r\n                      to='#!'\r\n                    >\r\n                      <DeleteOutlined className='text-danger' key='Delete' />\r\n                    </Link>\r\n                  </Popconfirm>,\r\n                  <Link\r\n                    onClick={(e) => {\r\n                      e.preventDefault();\r\n                      store.dispatch({\r\n                        type: SET_SIGNLE_PROPERTY,\r\n                        payload: ele,\r\n                      });\r\n                      history.push('/app/edit-property');\r\n                    }}\r\n                    to='#!'\r\n                  >\r\n                    <EditOutlined className='text-success' key='edit' />\r\n                  </Link>,\r\n                  <Link\r\n                    onClick={(e) => {\r\n                      e.preventDefault();\r\n                      store.dispatch({\r\n                        type: SET_SIGNLE_PROPERTY,\r\n                        payload: ele,\r\n                      });\r\n                      history.push('/app/view-property');\r\n                    }}\r\n                    to='#!'\r\n                  >\r\n                    <EyeOutlined className='text-primary' key='Download' />\r\n                  </Link>,\r\n                ]}\r\n              >\r\n                <Meta\r\n                  title={\r\n                    <>\r\n                      <span>{'#' + ele.propert_id}</span>\r\n                      <small className='float-right'>\r\n                        {ele.createdAt\r\n                          .substr(0, 10)\r\n                          .split('-')\r\n                          .reverse()\r\n                          .join('-')}\r\n                      </small>\r\n                    </>\r\n                  }\r\n                  description={\r\n                    <>\r\n                      <p className='float-left mb-0 pb-0 w-100 text-capitalize'>\r\n                        {ele.property_location}\r\n                      </p>\r\n                      <div style={{ width: '60%', float: 'left' }}>\r\n                        {ele.user !== null\r\n                          ? ele.user.first_name + ' ' + ele.user.last_name\r\n                          : ''}\r\n                      </div>\r\n                      <div\r\n                        className='text-right'\r\n                        style={{ width: '40%', float: 'left' }}\r\n                      >\r\n                        Price:{' '}\r\n                        {ele.expected_price !== null ? ele.expected_price : ''}\r\n                      </div>\r\n                    </>\r\n                  }\r\n                />\r\n              </Card>\r\n            </Col>\r\n          ))\r\n        )}\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\nIndex.propTypes = {\r\n  listProperty: PropTypes.func,\r\n  deleteProperty: PropTypes.func,\r\n  data: PropTypes.any,\r\n  loading: PropTypes.any,\r\n  isError: PropTypes.bool,\r\n  errMessage: PropTypes.string,\r\n  isErrorType: PropTypes.string,\r\n  isAuthenticated: PropTypes.any,\r\n};\r\nconst mapStateToProps = (state) => ({\r\n  data: state.property.data,\r\n  loading: state.property.loading,\r\n  isError: state.property.isError,\r\n  errMessage: state.property.errMessage,\r\n  isErrorType: state.property.isErrorType,\r\n  isAuthenticated: state.auth.isAuthenticated,\r\n});\r\nexport default connect(mapStateToProps, { listProperty, deleteProperty })(\r\n  Index\r\n);\r\n"],"sourceRoot":""}